appId: com.operators.relay
productName: "Relay"
asar: true
electronLanguages:
  - en-US
files:
  - dist/**
  - package.json
  - resources/**
  - "!node_modules/fsevents/**"
  - "!**/*.{md,ts,map,log}"
  - "!**/LICENSE"
  - "!**/.{git,github,vscode,idea}"
  - "!**/tsconfig*.json"
  - "!**/.eslintrc*"
  - "!**/.prettierrc*"
  - "!**/*.{test,spec}.{js,jsx,ts,tsx}"
  - "!**/tests/**"
  - "!**/test-results/**"
  - "!**/playwright*"
  - "!**/vitest*"
directories:
  output: release
  buildResources: resources
npmRebuild: false
removePackageScripts: true
extraResources:
  - from: resources
    to: data
win:
  target:
    - target: portable
      arch:
        - x64
  artifactName: "Relay.exe"
  icon: build/icon.ico
  # Windows-specific optimizations for faster startup
  requestedExecutionLevel: "asInvoker"
  # Use NSIS for better startup performance than portable in some cases
  # But keeping portable as requested - it's already optimized
compression: "normal" # Balanced: smaller build, good startup
# Electron download optimizations
electronDownload:
  cache: ".electron"

mac:
  target:
    - target: dmg
      arch:
        - arm64
        - x64
  artifactName: "Relay-${arch}.dmg"
  category: public.app-category.developer-tools
  icon: build/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
